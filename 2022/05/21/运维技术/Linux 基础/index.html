<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Linux 的基本命令 | 月の子豚小屋</title><meta name="keywords" content="Linux"><meta name="author" content="moon"><meta name="copyright" content="moon"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="linux 简介​		基于 centos 7 实现，linux 一切皆文件。Linux 能运行主要的 UNIX 工具软件、应用程序和网络协议。它支持 32 位和 64 位硬件。Linux 继承了Unix 以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。 ​		Linux 的发行版说简单点就是将 Linux 内核与应用软件做一个打包。  ​		今天各种场合都有使用各种 Linux 发行版">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux 的基本命令">
<meta property="og:url" content="http://localhost:4000/2022/05/21/%E8%BF%90%E7%BB%B4%E6%8A%80%E6%9C%AF/Linux%20%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="月の子豚小屋">
<meta property="og:description" content="linux 简介​		基于 centos 7 实现，linux 一切皆文件。Linux 能运行主要的 UNIX 工具软件、应用程序和网络协议。它支持 32 位和 64 位硬件。Linux 继承了Unix 以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。 ​		Linux 的发行版说简单点就是将 Linux 内核与应用软件做一个打包。  ​		今天各种场合都有使用各种 Linux 发行版">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://w.wallhaven.cc/full/k7/wallhaven-k7mww1.jpg">
<meta property="article:published_time" content="2022-05-20T16:00:00.000Z">
<meta property="article:modified_time" content="2022-10-01T04:27:22.987Z">
<meta property="article:author" content="moon">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://w.wallhaven.cc/full/k7/wallhaven-k7mww1.jpg"><link rel="shortcut icon" href="https://w.wallhaven.cc/full/8o/wallhaven-8o2v82.jpg"><link rel="canonical" href="http://localhost:4000/2022/05/21/%E8%BF%90%E7%BB%B4%E6%8A%80%E6%9C%AF/Linux%20%E5%9F%BA%E7%A1%80/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"top-right"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux 的基本命令',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-10-01 12:27:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://pic1.imgdb.cn/item/6337ca6e16f2c2beb17d8731.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">36</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">46</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://w.wallhaven.cc/full/k7/wallhaven-k7mww1.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">月の子豚小屋</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Linux 的基本命令</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-20T16:00:00.000Z" title="发表于 2022-05-21 00:00:00">2022-05-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-01T04:27:22.987Z" title="更新于 2022-10-01 12:27:22">2022-10-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%BF%90%E7%BB%B4%E6%8A%80%E6%9C%AF/">运维技术</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">10.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>38分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Linux 的基本命令"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="linux-简介"><a href="#linux-简介" class="headerlink" title="linux 简介"></a>linux 简介</h1><p>​		基于 <code>centos 7</code> 实现，<code>linux 一切皆文件</code>。Linux 能运行主要的 UNIX 工具软件、应用程序和网络协议。它支持 32 位和 64 位硬件。Linux 继承了Unix 以网络为核心的设计思想，是一个<code>性能稳定</code>的多用户网络操作系统。</p>
<p>​		Linux 的发行版说简单点就是将 Linux 内核与应用软件做一个打包。</p>
<p><img src="https://img-blog.csdnimg.cn/2020122020104278.png" alt="在这里插入图片描述"></p>
<p>​		今天各种场合都有使用各种 Linux 发行版，从嵌入式设备到超级计算机，并且在服务器领域确定了地位，通常<code>服务器使用 LAMP（Linux + Apache + MySQL + PHP）</code>或 <code>LNMP（Linux + Nginx+ MySQL +PHP）</code>组合。</p>
<p>windows 和 linux 对比：</p>
<p><img src="https://img-blog.csdnimg.cn/20201220202154232.png" alt="在这里插入图片描述"></p>
<p>​		服务器上 linux 基本都是使用命令行。</p>
<h1 id="Linux-基本操作"><a href="#Linux-基本操作" class="headerlink" title="Linux 基本操作"></a>Linux 基本操作</h1><h2 id="开机关机"><a href="#开机关机" class="headerlink" title="开机关机"></a>开机关机</h2><blockquote>
<p>开机操作和介绍</p>
</blockquote>
<p>​		开机会启动许多程序。它们在 Windows 叫做”服务”（service），在 Linux 就叫做<code>“ 守护进程 ”（daemon）</code>。</p>
<p>用户登录方式：</p>
<p>1）命令行登录</p>
<p>2）<code>ssh 登录</code>：XShell、Putty 等远程登陆方式。（企业里面一般使用这种方式）</p>
<p>3）图形界面登录</p>
<p>最高权限用户为 <code>root</code>，可以操作一切。</p>
<blockquote>
<p>关机操作和介绍（<code>linux 系统一般不会关机</code>）</p>
</blockquote>
<p>关机核心指令：<code>shutdown</code></p>
<p>基于关机，有很多种关机的操作，但是一般都会运行 <code>sync</code> 命令，将内存中的数据写到磁盘中。具体关机相关操作有：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sync # 将数据由内存同步到硬盘中。</span><br><span class="line"></span><br><span class="line">shutdown # 关机指令，你可以man shutdown 来看一下帮助文档。例如你可以运行如下命令关机：</span><br><span class="line"></span><br><span class="line">shutdown –h 10 # 这个命令告诉大家，计算机将在10分钟后关机</span><br><span class="line">shutdown –h now # 立马关机</span><br><span class="line">shutdown –h 20:25 # 系统会在今天20:25关机</span><br><span class="line">shutdown –h +10 # 十分钟后关机</span><br><span class="line"></span><br><span class="line">shutdown –r now # 系统立马重启</span><br><span class="line">shutdown –r +10 # 系统十分钟后重启</span><br><span class="line">reboot # 就是重启，等同于 shutdown –r now</span><br><span class="line">halt # 关闭系统，等同于shutdown –h now 和 poweroff</span><br></pre></td></tr></table></figure>



<p>查看当前 centos 系统版本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/centos-release</span><br></pre></td></tr></table></figure>

<h2 id="系统目录结构"><a href="#系统目录结构" class="headerlink" title="系统目录结构"></a>系统目录结构</h2><p>​		linux 有一个准则：<code>一切皆文件</code>，<code>/</code> 表示根目录，所有的文件都挂在在这个节点上。</p>
<p>1、使用 <code>ls /</code> 显示根目录下所有的文件：</p>
<p><img src="https://img-blog.csdnimg.cn/20210115214433897.png" alt="在这里插入图片描述"></p>
<p>2、目录结构：树状目录结构</p>
<p><img src="https://img-blog.csdnimg.cn/20210115214450337.png" alt="在这里插入图片描述"></p>
<p>1）<code>/bin</code> 目录是 Binary 的缩写, 这个目录存放着最经常使用的命令。（<code>存放命令</code>）</p>
<p>2）<code>/boot</code> 目录存放启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。（<code>启动、连接、镜像文件</code>）</p>
<p>3）<code>/dev</code> 目录是 Device(设备) 的缩写, 存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。（<code>外部设备</code>，例如 U盘）</p>
<p>4）<code>/etc</code> 目录存放所有的系统管理所需要的<code>配置文件和子目录</code>。（<code>配置文件</code>）</p>
<p>5）<code>/home</code>目录是<code>用户的主目录</code>，在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。</p>
<p>6）<code>/lib</code> 目录存放着系统最基本的<code>动态连接共享库</code>，其作用类似于Windows里的DLL文件。（系统文件）</p>
<p>7）&#x2F;lost+found： 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。（存放突然关机的一些文件）</p>
<p>8）<code>/media</code>：linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。</p>
<p>9）<code>/mnt</code>：系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在&#x2F;mnt&#x2F;上，然后进入该目录就可以查看光驱里的内容了。</p>
<p>10）<code>/opt</code>：这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。（<code>用户安装文件软件</code>）</p>
<p>11）&#x2F;proc： 这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。（不用管）</p>
<p>12）<code>/root</code>：该目录为系统管理员，也称作超级权限者的用户主目录。</p>
<p>13）<code>/usr</code>：用户的很多应用程序和文件都放在这个目录下，类似于 windows 下的 program files 目录。</p>
<ul>
<li>&#x2F;usr&#x2F;bin：系统用户使用的应用程序。</li>
<li>&#x2F;usr&#x2F;sbin：超级用户使用的比较高级的管理程序和系统守护程序。Super</li>
<li>&#x2F;usr&#x2F;src： 内核源代码默认的放置目录。</li>
</ul>
<p>14）<code>/sbin</code>：s 就是 Super User 的意思，这里存放的是系统管理员使用的系统管理程序。</p>
<p>15）<code>/srv</code>：该目录存放一些服务启动之后需要提取的数据。</p>
<p>16）<code>/sys</code>：这是 linux2.6 内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。</p>
<p>17）<code>/tmp</code>：这个目录是用来存放一些临时文件的。用完即丢的文件，可以放在这个目录下，安装包。（<code>临时文件</code>）</p>
<p>18）<code>/var</code>：这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种<code>日志</code>文件。</p>
<p>19）&#x2F;run：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。</p>
<p>20）&#x2F;www：存放服务器网站相关的资源，环境，网站的项目。</p>
<h2 id="目录文件管理"><a href="#目录文件管理" class="headerlink" title="目录文件管理"></a>目录文件管理</h2><p>1、目录的切换：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd xxx # 切换目录</span><br><span class="line">./ 		 # 当前目录</span><br><span class="line">cd ..    # 返回上一级目录</span><br></pre></td></tr></table></figure>

<blockquote>
<p>显示当前位置：<code>pwd</code> 命令。</p>
</blockquote>
<p>2、目录内容列出：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ls		# 列出所有文件，不包括隐藏文件</span><br><span class="line">ls -a	# 列出所有文件，包括隐藏文件</span><br><span class="line">ls -l	# 列出所有文件，包含文件的属性和权限，不包括隐藏文件</span><br><span class="line">ls -al	# 组合使用</span><br></pre></td></tr></table></figure>

<p>3、创建和删除<code>目录</code>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir xxx	# 创建目录</span><br><span class="line">mkdir -p test2/test3/test4	# 创建多级目录</span><br><span class="line"></span><br><span class="line">rmdir xxx	# 删除目录，该目录不能为空，否则不能删除</span><br><span class="line">rmdir -p test2/test3/test4	# 强制递归删除目录，不为空也能删</span><br></pre></td></tr></table></figure>

<p>4、复制<code>文件或目录</code>，如果文件重复就会给出提示选择覆盖还是放弃：（可以重命名）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cp oldPosition newPosition</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">举例：</span></span><br><span class="line">cp install.sh test	# 拷贝文件到 test 目录</span><br></pre></td></tr></table></figure>

<p>5、移除<code>文件或目录</code>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rm -f	# 忽略不存在的文件，不会出现警告，强制删除</span><br><span class="line">rm -r	# 递归删除目录</span><br><span class="line">rm -i	# 删除时会询问是否删除</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">举例：</span></span><br><span class="line">rm -rf / 	# 强制删除系统中所有的文件，“删库跑路”</span><br></pre></td></tr></table></figure>

<p>6、移动文件或目录，同时还可以<code>重命名</code>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mv -f	# 强制移动文件</span><br><span class="line">mv -u	# 只替换已经更新过的文件（用的少）</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">举例：</span></span><br><span class="line">mv test1 test2	# 重命名文件夹为 test2</span><br><span class="line">mv install.sh kuangstudy/	# 移动文件</span><br></pre></td></tr></table></figure>

<p>7、创建文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch f1.txt	# 创建文件</span><br><span class="line">vim	f2.txt	# 创建文件</span><br></pre></td></tr></table></figure>

<p>8、文件输入</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim f2.txt	# 直接编辑整个文件</span><br><span class="line">echo 输入内容 &gt;&gt; 文件		# 向某个文件输入内容</span><br></pre></td></tr></table></figure>

<p>测试：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ test]# echo &quot;i heat you&quot; &gt;&gt; f1.txt</span><br></pre></td></tr></table></figure>

<h2 id="目录文件属性"><a href="#目录文件属性" class="headerlink" title="目录文件属性"></a><code>目录文件属性</code></h2><p>​		Linux 系统是一种典型的多用户系统，不同的用户处于不同的地位，拥有不同的权限。为了保护系统的安全性，<code>Linux 系统对不同的用户访问同一文件（包括目录文件）的权限做了不同的规定</code>。</p>
<p>查看文件信息：<code>ll</code> 或 <code>ls -l</code> 命令查看。</p>
<p><img src="https://img-blog.csdnimg.cn/20210115223156210.png" alt="在这里插入图片描述"></p>
<p>根据上图，某文件为文件属性为：<code>lrwxrwxrwx</code>，则如何分析呢？</p>
<p>1）第一个字母 l 代表，表示一个链接文档，此处只是一个链接，连接带 &#x2F;usr&#x2F;bin 目录（相当于此处只是一个快捷方式）</p>
<blockquote>
<p>第一个字母可能会出现的选项：<code>l、d、-、b、c</code></p>
<p><code>l</code>：表示一个链接文档 link file。</p>
<p><code>d</code>：表示是一个<code>目录</code>。</p>
<p><code>-</code>：表示是一个<code>文件</code>。</p>
<p>此外还有 b 和 c 表示外部设备链接。</p>
</blockquote>
<p>2）后面的字母是三个为一组，且内容均是【<code>rwx</code>】，表示<code>读、写、可执行</code>，当没有该权限时，就会出现<code>-</code>标记。</p>
<p><img src="https://img-blog.csdnimg.cn/20210115223324226.png" alt="在这里插入图片描述"></p>
<p>属主权限：该文件或目录的所有者。</p>
<p>属组权限：该文件或目录的所有者所属的组。</p>
<p>其他用户权限：非所有者同组的用户。</p>
<p>1、修改文件属组：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chgrp [-R] 属组名 文件名</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>-R</code>：递归更改文件属组，就是在更改某个目录文件的属组时，如果加上 -R 的参数，那么该目录下的所有文件的属组都会更改。（<code>要改就会加</code>）</p>
</blockquote>
<p>2、更改文件属主，同时可以更改文件属组：（<code>chown</code>使用较多）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown [–R] 属主名 文件名</span><br><span class="line">chown [-R] 属主名：属组名 文件名</span><br></pre></td></tr></table></figure>

<p>3、更改文件9个属性：（<code>chmod</code> 使用很多）</p>
<blockquote>
<p>工作中可能会出现<code>报错</code>：你没有权限操作此文件！这个时候就需要更改文件的属性。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod [-R] xyz 文件或目录</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-R 表示递归修改，没有 -R 则只是修改这一个文件夹，文件夹内部的文件并未修改！</span></span><br></pre></td></tr></table></figure>

<p>有两种修改的方式：数字 和 符号 修改方式。</p>
<p>1）数字方式：由于文件权限字符为【rwx rwx rwx】三个为一组，使用数字来代表每一个“三位”的权限，其中 r：4，w：2，x：1（<code>常用数字方式修改</code>）</p>
<p>​		举例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chmod  777 filename  # 文件赋予所有用户可读可执行（最常用）</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">777 = 4+2+1，4+2+1，4+2+1</span></span><br><span class="line"></span><br><span class="line">chmod  770 filename  # 文件赋予属主和属组可读可执行，其他用户无权操作</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">770 = 4+2+1，4+2+1，0+0+0</span></span><br></pre></td></tr></table></figure>

<p>2）符号方式：一般不使用</p>
<p>测试：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ test]# chmod 777 test</span><br><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ test]# ll</span><br><span class="line">total 0</span><br><span class="line">drwxrwxrwx 2 root root 6 Jun  2 09:58 test</span><br><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ test]# chmod 770 test</span><br><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ test]# ll</span><br><span class="line">total 0</span><br><span class="line">drwxrwx--- 2 root root 6 Jun  2 09:58 test</span><br></pre></td></tr></table></figure>

<h2 id="文件内容"><a href="#文件内容" class="headerlink" title="文件内容"></a>文件内容</h2><p>1、<code>cat</code> ：由第一行开始显示文件内容，用来读文章，或者读取配置文件。</p>
<p>2、<code>tac</code> ：从最后一行开始显示，可以看出 tac 是 cat 的倒着写。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ test]# cat test1.txt </span><br><span class="line">剑来</span><br><span class="line">天不生我伏生</span><br><span class="line">万古如长夜</span><br><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ test]# tac test1.txt </span><br><span class="line">万古如长夜</span><br><span class="line">天不生我伏生</span><br><span class="line">剑来</span><br></pre></td></tr></table></figure>

<p>3、<code>nl</code>：输出内容是带行号，用于看代码。</p>
<p>4、<code>more</code>：一页一页的显示文件内容，带余下内容的（空格代表翻页，enter 代表向下看一行， :f 行号）</p>
<p>5、<code>less</code>：less 与 more 类似，但是比 more 更好的是，他可以往前翻页。</p>
<p>​		操作：</p>
<p>​	1）空格下翻页，pageDown，pageUp键代表翻动页面。</p>
<p>​	2）退出 q 命令。</p>
<p>​	3）查找字符串： <code>/</code>要查询的字符向下查询，向上查询使用<code>？</code>，n 继续向下搜寻下一个，N 上寻找。</p>
<p>6、<code>head</code>：只看头几行 通过 -n 参数来控制显示几行。</p>
<p>7、<code>tail</code>：只看尾巴几行 -n 参数 要查看几行。</p>
<blockquote>
<p>man [命令名] 来查看命令的使用方式。</p>
</blockquote>
<p>总结：实际开发中使用 <code>vim</code>、<code>vi</code>、<code>cat</code> 即可。搜寻使用 <code>/</code> 即可。</p>
<blockquote>
<p>网络配置文件位置：<code>cd /etc/sysconfig/network-scripts</code>（centos7）</p>
<p><code>ifconfig</code> 命令查看网络配置。</p>
</blockquote>
<h2 id="链接概念"><a href="#链接概念" class="headerlink" title="链接概念"></a>链接概念</h2><p>Linux 的链接分为两种：硬链接、软链接。</p>
<p><code>硬链接</code>：A——B，假设 B 是 A 的硬链接，那么他们两个<code>指向了同一个文件</code>！允许一个文件拥有多个路径，用户可以通过这种机制建立硬链接到一些重要文件上，防止误删。（<code>备份</code>）</p>
<p><code>软链接</code>：类似 Window 下的<code>快捷方式</code>，删除源文件，快捷方式也访问不了。（软连接也叫符号链接）</p>
<p>创建链接：<code>ln [-s] source to </code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">touch f1.txt		 # 创建文件 f1</span><br><span class="line">ln f1.txt f2.txt	 # 创建硬链接</span><br><span class="line">ln -s f1.txt f3.txt	 # 创建软链接</span><br></pre></td></tr></table></figure>

<p>测试：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ test]# echo &quot;i heat you&quot; &gt;&gt; f1.txt</span><br><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ test]# cat f1.txt </span><br><span class="line">i heat you</span><br><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ test]# cat f2.txt </span><br><span class="line">i heat you</span><br><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ test]# cat f3.txt </span><br><span class="line">i heat you</span><br></pre></td></tr></table></figure>

<p>发现：源文件改变，链接文件内容都变化。</p>
<h2 id="Vim-编辑器"><a href="#Vim-编辑器" class="headerlink" title="Vim 编辑器"></a>Vim 编辑器</h2><p>​		vim 是 vi 的升级版的文本编辑器，用来<code>查看内容，编辑内容，保存内容</code>。</p>
<p><img src="https://img-blog.csdnimg.cn/20210116092222874.png" alt="在这里插入图片描述"></p>
<p>基本上 vim 共分为三种模式，分别是命令模式、输入模式、底线命令模式。</p>
<p>1）<code>命令模式</code>：此时键盘输入是命令，按下 <code>i</code> 切换到输入模式，<code>x</code> 删除当前光标所在处的字符，<code>：</code>切换到底线命令模式（输入模式先使用 ESC）。</p>
<p>2）<code>输入模式</code>：此时可以输入文本内容。使用 <code>ESC</code>退出输入模式，切换到命令模式。</p>
<p>3）<code>底线命令模式</code>：<code>：</code>切换到底线命令模式，<code>wq</code> 表示保存并退出，<code>q!</code>不保存并退出。</p>
<p>其余操作暂不做了解。</p>
<h2 id="账号管理"><a href="#账号管理" class="headerlink" title="账号管理"></a>账号管理</h2><h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><p>​		linux 是一个多用户多任务的分时操作系统。（类似于 MySQL 的用户管理）<code>root 权限用户才能操作</code></p>
<p>1、添加用户</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd [-m] [-g] 用户名	# 添加用户</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-m ：自动创建这个用户的主目录 /home/gaozheng</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-g ：给用户分配组！</span></span><br></pre></td></tr></table></figure>

<p><code>本质</code>：Linux中一切皆文件，这里的添加用户说白了就是往某一个文件（<code>/etc/passwd</code>）中写入用户的信息了。</p>
<p>2、删除用户</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userdel [-r] gaozheng 	# 删除用户的时候将他的目录页一并删掉</span><br></pre></td></tr></table></figure>

<p>3、修改用户</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">usermod [选项] [选项设置] 用户名	# 修改用户</span><br><span class="line">usermod -d /home/test gaozheng	# 修改用户对应的文件夹为 test，一般会先把这个文件创建。</span><br></pre></td></tr></table></figure>

<p>4、切换用户，默认是 root 用户。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su 用户名		# 从 root 用户切换到 其他用户</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：root 用户的编辑首字符为：#，其他用户为 $。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo su		# 普通用户切换到 root 用户</span><br></pre></td></tr></table></figure>

<p>其他操作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">su-root		# 切换用户时，如果想在切换用户之后使用新用户的工作环境，可以在su和username之间加 - </span><br><span class="line">exit		# 退出到原来的用户 root</span><br><span class="line">logout		# 退出到原来的用户 root</span><br><span class="line">hostname 新主机名	# 修改主机名，修改完需要重新连接才生效</span><br></pre></td></tr></table></figure>

<p>5、修改密码，创建用户时需要修改密码（linux 输入密码不会显示）</p>
<p>1）超级用户修改密码：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ home]# passwd gaozheng</span><br><span class="line">Changing password for user gaozheng.</span><br><span class="line">New password: </span><br><span class="line">BAD PASSWORD: The password contains the user name in some form</span><br><span class="line">Retype new password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure>

<p>2）普通用户修改密码：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[gaozheng@iZ8vb0l7sqdpurpvy5e77xZ home]$ passwd</span><br><span class="line">Changing password for user gaozheng.</span><br><span class="line">Current password: </span><br><span class="line">New password: </span><br></pre></td></tr></table></figure>

<p>6、锁定账户，由 root 账户操作。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">passwd -l gaozheng 	# 锁定之后这个用户就不能登录了。</span><br><span class="line">passwd -d gaozheng 	# 没有密码，将上次输入的密码清空了，也不能登录。</span><br></pre></td></tr></table></figure>

<h3 id="用户组管理"><a href="#用户组管理" class="headerlink" title="用户组管理"></a>用户组管理</h3><p>​		<code>属主</code> 和<code> 属组</code> 的概念。</p>
<p>​		每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理（开发、测试、运维、root）。不同Linux 系统对用户组的规定有所不同，如Linux下的用户属于与它<code>同名的用户组</code>，这个<code>用户组在创建用户时同时创建</code>。</p>
<p>​		用户组的管理涉及用户组的添加、删除和修改。组的增加、删除和修改实际上就是对 <code>/etc/group</code> 文件的更新。</p>
<p>1、创建用户组，系统会默认分配一个自增 1 的 groupId，也可以手动设置。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">groupadd [-g groupId] 用户组名 </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-g 代表指定 groupId</span></span><br></pre></td></tr></table></figure>

<p>2、删除用户组。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupdel 用户组名</span><br></pre></td></tr></table></figure>

<p>3、修改用户组的权限信息和名称</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">groupmod -g groupId -n 用户组新名称 待修改的用户组名称</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-g 代表指定 groupId，-n 代表指定用户组名称</span></span><br></pre></td></tr></table></figure>

<p>4、切换用户的用户组名称</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1、登录要修改的用户</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2、修改用户组到 root 用户组</span></span><br><span class="line">newgrp root</span><br></pre></td></tr></table></figure>

<blockquote>
<p>总结用户信息存放位置：</p>
<p>在 <code>/etc/passwd</code> 配置文件中，每一行都代表这一个用户，我们可以从这里看出这个用户的主目录在哪里，可以看到属于哪一个组！</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">用户名:口令(登录密码，我们不可见):用户标识号:组标识号:注释性描述:主目录:登录Shell</span><br></pre></td></tr></table></figure>

<p>登录口令：把真正的<code>加密</code>后的用户口令字存放到<code>/etc/shadow</code>文件中，保证我们密码的安全性！</p>
<p>用户组的所有信息都存放在 <code>/etc/group</code> 文件中。</p>
</blockquote>
<h2 id="磁盘管理"><a href="#磁盘管理" class="headerlink" title="磁盘管理"></a>磁盘管理</h2><p>1、磁盘信息查看：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df		# 列出文件系统整体的磁盘使用量</span><br><span class="line">df -h	# 检查磁盘空间使用量</span><br></pre></td></tr></table></figure>

<p>测试：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ /]# df</span><br><span class="line">Filesystem     1K-blocks     Used Available Use% Mounted on</span><br><span class="line">devtmpfs         3982948        0   3982948   0% /dev</span><br><span class="line">tmpfs            3998616        0   3998616   0% /dev/shm</span><br><span class="line">tmpfs            3998616      596   3998020   1% /run</span><br><span class="line">tmpfs            3998616        0   3998616   0% /sys/fs/cgroup</span><br><span class="line">/dev/vda1       41931756 30255072  11676684  73% /</span><br><span class="line">tmpfs             799720        0    799720   0% /run/user/0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这个单位是 字节</span></span><br><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ /]# df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs        3.8G     0  3.8G   0% /dev</span><br><span class="line">tmpfs           3.9G     0  3.9G   0% /dev/shm</span><br><span class="line">tmpfs           3.9G  596K  3.9G   1% /run</span><br><span class="line">tmpfs           3.9G     0  3.9G   0% /sys/fs/cgroup</span><br><span class="line">/dev/vda1        40G   29G   12G  73% /</span><br><span class="line">tmpfs           781M     0  781M   0% /run/user/0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这个单位是 M 或 G</span></span><br></pre></td></tr></table></figure>

<p>2、查看具体文件夹的使用情况</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">需要先进入某个文件夹</span></span><br><span class="line">du		# 查看内部文件大小，可以看到子文件夹</span><br><span class="line">du -a 	# 显示隐藏的文件</span><br><span class="line"></span><br><span class="line">du -sm /*	# 检查根目录下每个文件夹容量情况</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">系统初始化最大的是用户目录 /usr ，因为很多文件和程序都在这里</span></span><br></pre></td></tr></table></figure>

<p>3、挂载和卸载本地磁盘或是文件、U盘等。</p>
<p>1）挂载 mount：外部设备接入默认都在 dev 文件夹下，有时候不挂载可能不能使用。</p>
<p><img src="https://img-blog.csdnimg.cn/20210116144426865.png" alt="在这里插入图片描述"></p>
<p>2）卸载 umount：相当于 U盘弹出。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount -f [挂载位置] 	# 强制卸载</span><br></pre></td></tr></table></figure>

<h2 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a><code>进程管理</code></h2><p>​		每个程序都有一个进程，每个进程都对应了一个 <code>pid</code> 号，同时都有一个父进程。</p>
<p>​		进程可以有两种存在方式：前台 和 后台运行，<code>服务一般后台运行，基本的程序都是前台运行</code>。</p>
<p>1、查看进程信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ps [-选项]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-a 显示当前终端运行的进程信息（就是这个 ps -a）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-A 显示当前终端运行的所有进程信息</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-u 以用户的信息显示进程</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-x 显示后台运行进程的参数。</span></span><br></pre></td></tr></table></figure>

<p>测试：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -aux	# 查看所有的进程信息</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -aux|grep mysql</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">grep 查找前面命令的结果中中符合条件的字符串</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>|</code> 在 linux 中叫做管道符，用来过滤。</p>
</blockquote>
<p>2、查看父进程信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef</span><br></pre></td></tr></table></figure>

<p>测试：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ps -ef|grep mysql </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">看父进程我们一般可以通过目录树结构来查看，使用进程树命令：</span></span><br><span class="line">pstree -pu</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p 显示父进程 <span class="built_in">id</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-u 显示用户组</span></span><br></pre></td></tr></table></figure>

<p>3、结束进程：相当于 windows 结束任务。（很少会强制结束）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 进程pid		# 表示强制结束该进程</span><br></pre></td></tr></table></figure>

<h2 id="Jar-包运行"><a href="#Jar-包运行" class="headerlink" title="Jar 包运行"></a><code>Jar 包运行</code></h2><p>1、直接前台运行：当前 ssh 窗口被锁定，可按 CTRL + C 打断程序运行，或直接关闭窗口，程序会直接退出。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar xxxx.jar</span><br></pre></td></tr></table></figure>

<p>2、后台运行：&amp; 表示后台运行，但是当窗口关闭时，程序也会终止。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar xxxx.jar &amp;</span><br></pre></td></tr></table></figure>

<p>3、后台持续运行：此时输出内容会打印到一个默认的 nohup 文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup java -jar xxxx.jar &amp;</span><br></pre></td></tr></table></figure>

<p>4、后台运行的同时，保存运行日志信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup java -jar xxxx.jar &gt;&gt;temp.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>

<h2 id="安全设置"><a href="#安全设置" class="headerlink" title="安全设置"></a>安全设置</h2><p>​		安全设置主要有几个方面：<code>阿里云安全组</code>、<code>防火墙</code>、<code>端口开放</code>等。</p>
<p>1、阿里云安全组设置开放端口，只有这样外网才能访问到服务器上的某个端口。</p>
<p>2、防火墙设置。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld.service		# 查看防火墙状态</span><br><span class="line">systemctl status firewalld			    # 查看防火墙状态</span><br><span class="line">systemctl start firewalld				# 开启防火墙</span><br><span class="line">systemctl stop firewalld				# 关闭防火墙</span><br><span class="line">systemctl restart firewalld				# 重启防火墙</span><br></pre></td></tr></table></figure>

<p>3、端口设置</p>
<p>当防火墙开启时，需要将部署项目的具体某个端口开放，外网才能访问到该端口。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=9000/tcp --permanent		# 开启防火墙的 9000 端口</span><br><span class="line">firewall-cmd --list-ports			# 查看所有开启的端口</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--zone 	作用域</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--add-port=80/tcp 	添加端口，格式为：端口/通讯协议</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--permanent 	永久生效，没有此参数重启后失效</span></span><br></pre></td></tr></table></figure>

<h1 id="环境安装"><a href="#环境安装" class="headerlink" title="环境安装"></a>环境安装</h1><p>​		linux 上安装软件一般有三种方式：<code>rpm</code> 安装、<code>解压缩</code>安装、<code>yum</code> 在线安装。</p>
<h2 id="安装-JDK-环境"><a href="#安装-JDK-环境" class="headerlink" title="安装 JDK 环境"></a>安装 JDK 环境</h2><p>1、下载 Jdk8 的 rpm 包：<code>https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html</code> 官网下载。</p>
<p>2、将 rpm 包上传到 <code>/home/username</code> 目录下（此处的 username 文件夹指用户目录，此目录用于存放该用户的安装包）。</p>
<p>3、检测系统是否存在 Jdk 环境：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果存在 jdk 环境，就需要卸载原有的不完整的 openJdk：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa|grep jdk		# 检测 JDK 版本信息</span><br><span class="line">rpm -e --nodeps jdk__	# 强制移除 jdk.....</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20210116144854687.png" alt="在这里插入图片描述"></p>
</blockquote>
<p>4、安装 jdk 环境：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh rpm包</span><br></pre></td></tr></table></figure>

<p>5、配置环境变量：<code>/etc/profile</code>文件就是系统配置文件。</p>
<p>1）在配置文件最后面加上配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这里的 JAVA_HOME 路径写本地的安装位置</span></span><br><span class="line">JAVA_HOME=/usr/java/jdk1.8.0_221-amd64</span><br><span class="line">CLASSPATH=%JAVA_HOME%/lib:%JAVA_HOME%/jre/lib</span><br><span class="line">PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin</span><br><span class="line">export PATH CLASSPATH JAVA_HOME</span><br></pre></td></tr></table></figure>

<p>2）激活配置文件，使配置生效。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>



<h2 id="安装-Tomcat"><a href="#安装-Tomcat" class="headerlink" title="安装 Tomcat"></a>安装 Tomcat</h2><p>​		SSM 项目打的是 war 包，war 包运行就需要 Tomcat。（jar 包不需要 Tomcat）</p>
<p>1、官网下载 Tomcat 压缩包：<code>apache-tomcat-9.0.22.tar.gz</code></p>
<p>2、将压缩包上传到 <code>/home/username</code> 目录下，直接进行解压：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf apache-tomcat-9.0.22.tar.gz</span><br></pre></td></tr></table></figure>

<p>3、此时该目录下就有一个压缩包，此时进入 &#x2F;bin 目录启动 Tomcat 测试：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./startup.sh		# 执行 </span><br><span class="line">./shotdown.sh		# 停止</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意开启阿里云安全组和防火墙端口：8080（Tomcat 默认端口）。</p>
</blockquote>
<h2 id="安装-MySQL"><a href="#安装-MySQL" class="headerlink" title="安装 MySQL"></a>安装 MySQL</h2><blockquote>
<p>安装注意：安装 压缩包版本，exe 版本安装后会有注册表，难卸载。</p>
</blockquote>
<p>mysql 5.7 64位下载地址:</p>
<p><a target="_blank" rel="noopener" href="https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.19-winx64.zip">https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.19-winx64.zip</a></p>
<p>电脑是64位的就下载使用64位版本的！</p>
<p>1、下载后得到zip压缩包。</p>
<p>2、解压到自己想要安装到的目录，本人解压到的是 D:\Environment\mysql-5.7.19</p>
<p>3、添加环境变量：<br>    1）我的电脑-&gt;属性-&gt;高级-&gt;环境变量<br>    2）选择PATH,在其后面添加: 你的mysql 安装文件下面的bin文件夹<br>    3）在 D:\Environment\mysql 目录下新建 my.ini 文件<br>    4）编辑 my.ini 文件，注意替换路径位置</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">basedir=D:\Program Files\mysql-5.7\</span><br><span class="line">datadir=D:\Program Files\mysql-5.7\data\</span><br><span class="line">port=3306</span><br><span class="line">skip-grant-tables</span><br></pre></td></tr></table></figure>

<p>5、启动<strong>管理员模式</strong>下的CMD，并将路径切换至 mysql 下的bin目录，然后输入 mysqld –install (安装mysql)</p>
<p>6、再输入 mysqld –initialize-insecure –user&#x3D;mysql 初始化数据文件<br>7、然后输入命令<code>net start mysql</code>再次启动 mysql 然后用命令 mysql –u root –p 进入mysql管理界面（密码可为空）</p>
<p>8、进入界面后更改root密码</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> mysql.user <span class="keyword">set</span> authentication_string<span class="operator">=</span>password(<span class="string">&#x27;123456&#x27;</span>) <span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span> </span><br><span class="line"><span class="keyword">and</span> Host <span class="operator">=</span> <span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>9、刷新权限</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>

<p>10、修改 my.ini文件删除最后一句 skip-grant-tables</p>
<p>11、重启 mysql 即可正常使用（先使用exit，退出mysql）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net stop mysql</span><br><span class="line">net start mysql</span><br></pre></td></tr></table></figure>

<p>12、连接上测试出现以下结果就安装好了<br><img src="https://img-blog.csdnimg.cn/20200511175311493.png" alt="在这里插入图片描述"></p>
<p><code>注意：</code>如果您以前装过,现在需要重装,一定要将环境清理干净 .</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc delete mysql</span><br></pre></td></tr></table></figure>

<p>mysql可视化工具 : Navicat Premium。</p>
<p><code>连接数据库语句 ：</code>mysql -h 服务器主机地址 -u用户名 -p用户密码<br>注意 :-u  -p 后面不能加空格,否则会被当做密码的内容，导致登录失败 !</p>
<p>几个基本的数据库操作命令 :</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql <span class="operator">-</span>uroot <span class="operator">-</span>p123456  <span class="comment">--连接数据库</span></span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> password<span class="operator">=</span>password(<span class="string">&#x27;123456&#x27;</span>)<span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span> <span class="keyword">and</span> Host <span class="operator">=</span> <span class="string">&#x27;localhost&#x27;</span>;  <span class="comment">--修改密码</span></span><br><span class="line">flush privileges;  <span class="comment">--刷新权限</span></span><br><span class="line"><span class="comment">--------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">--所有的语句以分号结尾</span></span><br><span class="line"><span class="keyword">show</span> databases; <span class="comment">--显示所有数据库</span></span><br><span class="line">use dbname；<span class="comment">--切换数据库</span></span><br><span class="line"><span class="keyword">show</span> tables; <span class="comment">--显示该数据库中所有的表</span></span><br><span class="line"><span class="keyword">describe</span> <span class="keyword">user</span>; <span class="comment">--显示表数据库中 user 表的列信息</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> database westos; <span class="comment">--创建数据库</span></span><br><span class="line"></span><br><span class="line">exit; <span class="comment">--退出连接</span></span><br><span class="line">? 命令关键词 : 寻求帮助</span><br></pre></td></tr></table></figure>

<h2 id="安装-InfluxDB"><a href="#安装-InfluxDB" class="headerlink" title="安装 InfluxDB"></a>安装 InfluxDB</h2><p><code>influxdb</code> 数据库一般是在 linux 系统中进行使用，比如云服务器、虚拟机等 linux 系统场景。(windows 系统也可以使用)</p>
<blockquote>
<p>以阿里云服务器搭载<code>centos 7.9</code> 系统为例进行<code>influxdb 1.8</code> 数据库的搭建！使用 wget 工具下载 influxdb 的 rpm 包。</p>
</blockquote>
<p>1、进入<code>/usr/local</code> 目录（目录可自己选择）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local</span><br></pre></td></tr></table></figure>

<p>2、下载 InfluxDB 依赖包。</p>
<p>​		方式一：云服务器直接使用 wget 工具下载 Influxdb 的 rpm 包。（可能会比较慢）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.influxdata.com/influxdb/releases/influxdb-1.8.2.x86_64.rpm</span><br></pre></td></tr></table></figure>

<p>​		方式二：本地下载好依赖包后，而后借助 <code>XFTP</code>或 <code>Winscp </code>放入云服务器目录。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 本地下载直接使用 http 下载，地址栏输入 </span><br><span class="line">https://dl.influxdata.com/influxdb/releases/influxdb-1.8.2.x86_64.rpm</span><br><span class="line">浏览器直接会下载好安装包（此种方法速度快）。</span><br></pre></td></tr></table></figure>

<p>3、使用 yum 命令进行 influxdb 的安装。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum localinstall influxdb-1.8.0.x86_64.rpm</span><br></pre></td></tr></table></figure>

<p>4、修改influxdb.conf配置文件(<code>可选</code>)</p>
<p>​		因为监控的数据量一般会比较大，所以相关数据的目录一般需要调整至空间比较大的目录。安装后默认的配置文件在<code>/etc/influxdb/influxdb.conf</code>，进入修改<code>[meta]下dir</code>目录、<code>[meta]下dir</code>目录、<code>[meta]下wal-dir</code>目录。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[meta]</span><br><span class="line">  dir = &quot;/data/influxdb/meta&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[data]</span><br><span class="line">  dir = &quot;/data/influxdb/data&quot;</span><br><span class="line">  ......</span><br><span class="line">  wal-dir = &quot;/data/influxdb/wal&quot;</span><br></pre></td></tr></table></figure>

<p>5、启动服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start influxdb</span><br></pre></td></tr></table></figure>

<p>6、检查 InfluxDB服务启动状态。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查 influxdb启动状态</span></span><br><span class="line">systemctl status influxdb  # 或 systemctl status influxd</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查所有服务启动状态</span></span><br><span class="line">ps auxw</span><br></pre></td></tr></table></figure>

<p><img src="https://pic1.imgdb.cn/item/6337c16b16f2c2beb1746c3f.png" alt="Influxdb数据库服务状态"></p>
<h2 id="安装-Chronograf"><a href="#安装-Chronograf" class="headerlink" title="安装 Chronograf"></a>安装 Chronograf</h2><p>Chronograf 安装与 InfluxDB 安装类似，都采用本地下载安装包后，放到云服务器，进行安装。</p>
<p>1、下载 Chronograf(1.8.4 版本) 依赖包，下载版本为 <code>ReadHat&amp;CentOS</code>版本。</p>
<p>​		本地下载好依赖包后，而后借助 <code>XFTP</code>或 <code>Winscp </code>放入云服务器目录(建议放到 &#x2F;usr&#x2F;local 目录)。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 本地下载直接使用 http 下载，地址栏输入 </span><br><span class="line">https://dl.influxdata.com/chronograf/releases/chronograf-1.8.4.x86_64.rpm</span><br><span class="line">浏览器直接会下载好安装包（此种方法速度快）。</span><br></pre></td></tr></table></figure>

<p>2、使用 yum 命令进行 Chronograf 的安装。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum localinstall chronograf-1.8.4.x86_64.rpm</span><br></pre></td></tr></table></figure>

<p>3、不需要修改 Chronograf  配置文件(<code>目前配置文件未找到</code>)。</p>
<p>4、启动服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start Chronograf</span><br></pre></td></tr></table></figure>

<p>5、检查 Chronograf 服务启动状态。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查 influxdb启动状态</span></span><br><span class="line">systemctl status Chronograf</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查所有服务启动状态</span></span><br><span class="line">ps auxw</span><br></pre></td></tr></table></figure>

<p><img src="https://pic1.imgdb.cn/item/6337c17d16f2c2beb1747ea2.png" alt="chronograf服务状态"></p>
<h2 id="安装-Kapitator"><a href="#安装-Kapitator" class="headerlink" title="安装 Kapitator"></a>安装 Kapitator</h2><p>Kapacitor 是一个开源的数据处理框架，可以轻松创建警报、运行ETL作业和检测异常。</p>
<p>1、下载 Kapacitor (1.6.2 版本) 依赖包，下载版本为 <code>ReadHat&amp;CentOS</code>版本。</p>
<p>​		本地下载好依赖包后，而后借助 <code>XFTP</code>或 <code>Winscp </code>放入云服务器目录(建议放到 &#x2F;usr&#x2F;local 目录)。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 本地下载直接使用 http 下载，地址栏输入 </span><br><span class="line">https://dl.influxdata.com/kapacitor/releases/kapacitor-1.6.2-1.x86_64.rpm</span><br><span class="line">浏览器直接会下载好安装包（此种方法速度快）。</span><br></pre></td></tr></table></figure>

<p>2、使用 yum 命令进行 Kapacitor 的安装。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum localinstall kapacitor-1.6.2-1.aarch64.rpm</span><br></pre></td></tr></table></figure>

<p>3、需要修改 Kapacitor 配置文件(<code>/etc/kapacitor/kapacitor.conf </code>)。</p>
<p>​		可以使用<code>kapacitor config</code>命令查找配置文件的位置，也可以通过<code>systemctl edit kapacitor</code>打开服务的配置文件，进行时区的设置，或是通过 <code>vim /etc/kapacitor/kapacitor.conf</code>，编辑配置文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment=&quot;TZ=Asia/Shanghai&quot;</span><br></pre></td></tr></table></figure>

<p>4、启动服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start Kapacitor</span><br></pre></td></tr></table></figure>

<p>5、检查 Chronograf 服务启动状态。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查 influxdb启动状态</span></span><br><span class="line">systemctl status Kapacitor</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查所有服务启动状态</span></span><br><span class="line">ps auxw</span><br></pre></td></tr></table></figure>

<p><img src="https://pic1.imgdb.cn/item/6337c19d16f2c2beb1749d80.png" alt="kapacitor状态"></p>
<h2 id="安装-Telegraf"><a href="#安装-Telegraf" class="headerlink" title="安装 Telegraf"></a>安装 Telegraf</h2><p>Telegraf 可用于监测系统参数，并同步写入绑定的 InfluxDB 数据库。</p>
<p>1、下载 Telegraf (1.20.4 版本) 依赖包，下载版本为 <code>ReadHat&amp;CentOS</code>版本。</p>
<p>​		本地下载好依赖包后，而后借助 <code>XFTP</code>或 <code>Winscp </code>放入云服务器目录(建议放到 &#x2F;usr&#x2F;local 目录)。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 本地下载直接使用 http 下载，地址栏输入 </span><br><span class="line">https://dl.influxdata.com/telegraf/releases/telegraf-1.20.4-1.x86_64.rpm</span><br><span class="line">浏览器直接会下载好安装包（此种方法速度快）。</span><br></pre></td></tr></table></figure>

<p>2、使用 yum 命令进行 Telegraf 的安装。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum localinstall telegraf-1.20.4-1.x86_64.rpm</span><br></pre></td></tr></table></figure>

<p>3、需要修改 Telegraf  配置文件(<code>/etc/telegraf/telegraf.conf </code>)。</p>
<p>​		需要设置 Telegraf  绑定 InfluxDB 数据库。</p>
<p>​		1. 编辑配置文件 &#x2F;etc&#x2F;telegraf&#x2F;telegraf.conf 。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/telegraf/telegraf.conf </span><br></pre></td></tr></table></figure>

<p>​		2. 找到配置文件中 [[outputs.influxdb]]模块。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/influxdb</span><br></pre></td></tr></table></figure>

<p>​		3.修改配置文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[[outputs.influxdb]]</span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash"><span class="comment"># The full HTTP or UDP URL for your InfluxDB instance.</span></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash"><span class="comment">#</span></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash"><span class="comment"># Multiple URLs can be specified for a single cluster, only ONE of the</span></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash"><span class="comment"># urls will be written to each interval.</span></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">urls = [<span class="string">&quot;unix:///var/run/influxdb.sock&quot;</span>]</span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">urls = [<span class="string">&quot;udp://127.0.0.1:8089&quot;</span>]</span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">此处为数据写入的 Influxdb 数据库 HTTP 地址</span></span><br><span class="line">  urls = [&quot;http://127.0.0.1:8086&quot;] </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash"><span class="comment"># The target database for metrics; will be created as needed.</span></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash"><span class="comment"># For UDP url endpoint database needs to be configured on server side.</span></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">写入数据库名称</span></span><br><span class="line">  database = &quot;telegraf7076&quot;  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash"><span class="comment"># The value of this tag will be used to determine the database.  If this</span></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash"><span class="comment"># tag is not set the &#x27;database&#x27; option is used as the default.</span></span></span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">database_tag = <span class="string">&quot;&quot;</span></span></span><br><span class="line">  .............</span><br><span class="line"><span class="meta prompt_">  # </span><span class="language-bash">验证信息</span></span><br><span class="line">  username = &quot;test&quot;</span><br><span class="line">  password = &quot;123456&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4、启动服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start telegraf</span><br></pre></td></tr></table></figure>

<p>5、检查 telegraf服务启动状态。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查 influxdb启动状态</span></span><br><span class="line">systemctl status telegraf</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查所有服务启动状态</span></span><br><span class="line">ps auxw</span><br></pre></td></tr></table></figure>

<p><img src="https://pic1.imgdb.cn/item/6337c1ba16f2c2beb174bb57.png" alt="Telegraf状态"></p>
<p>6、查看数据库中数据信息或直接在 Chronograf 中进行查看。</p>
<p><img src="https://pic1.imgdb.cn/item/6337c1cf16f2c2beb174d07d.png" alt="telegraf测试"></p>
<h2 id="安装-Docker"><a href="#安装-Docker" class="headerlink" title="安装 Docker"></a>安装 Docker</h2><p>​		根据官网的安装步骤，使用 yum 在线安装。</p>
<p>1、安装准备环境：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum -y install 包名 	# yum install 安装命令 -y 所有的提示都为 y</span><br><span class="line">yum -y install gcc</span><br><span class="line">yum -y install gcc-c++</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>-y</code> 表示安装过程中自动同意。</p>
</blockquote>
<p>2、清除以前的 docker 版本</p>
<p>​		旧版本 Docker 版本可能被称为 docker 或 docker-engine，首先进行卸载旧版本，同时卸载其关联的依赖。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo yum remove docker \</span></span><br><span class="line"><span class="language-bash">                  docker-client \</span></span><br><span class="line"><span class="language-bash">                  docker-client-latest \</span></span><br><span class="line"><span class="language-bash">                  docker-common \</span></span><br><span class="line"><span class="language-bash">                  docker-latest \</span></span><br><span class="line"><span class="language-bash">                  docker-latest-logrotate \</span></span><br><span class="line"><span class="language-bash">                  docker-logrotate \</span></span><br><span class="line"><span class="language-bash">                  docker-engine</span></span><br></pre></td></tr></table></figure>

<p>如果在使用 yum 的时候，提示没有任何上面的包被安装的话，也没有关系，可以跳过这个卸载的过程。</p>
<p>3、首次安装 Docker 需要设置 Docker 仓库：</p>
<p>1）设置仓库，安装依赖包。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure>

<p>2）设置阿里云下载镜像（国外镜像比较慢）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum-config-manager  --add-repo  http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>

<p>4、更新 yum 软件包的索引。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum makecache fast</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意：centos8 直接使用 yum makecache 即可</span></span><br></pre></td></tr></table></figure>

<p>5、安装 docker </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<p>6、启动 docker</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure>

<p>检查 docker 运行状态：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status docker</span><br></pre></td></tr></table></figure>

<p>7、检查 docker 版本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker version</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Docker 的卸载：</p>
<p>1）卸载依赖：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<p>2）删除 docker 资源目录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /var/lib/docker</span><br></pre></td></tr></table></figure>

<p>docker 默认工作路径：<code>/var/lib/docker</code></p>
</blockquote>
<p>8、配置阿里云镜像加速：</p>
<p>1、登录阿里云官网，找到容器镜像服务，最下面的镜像加速器，根据操作文档进行操作：</p>
<p><img src="https://pic1.imgdb.cn/item/6337c1f216f2c2beb174f226.png"></p>
<blockquote>
<p>每个服务器都有单独的加速器地址，是内网使用的加速器方式（其他服务器使用不了）。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">四个命令，配置完即可</span></span><br><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编写配置文件</span></span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://h0f3j068.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启服务</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>



<h2 id="安装-Nginx"><a href="#安装-Nginx" class="headerlink" title="安装 Nginx"></a>安装 Nginx</h2><p>1、官网下载 tar 压缩包：<code>http://nginx.org/en/download.html</code>（中间的就是 tar 包），版本为 nginx-1.22.0.tar.gz。</p>
<p>2、将 压缩包 利用 XFtp 上传到 &#x2F;opt 目录下，再进行解压。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf nginx-1.22.0.tar.gz</span><br></pre></td></tr></table></figure>

<p>3、解压后，发现有一个绿色的文件 <code>configure</code>，需要执行这个文件，进行编译（go 环境编译）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br></pre></td></tr></table></figure>

<p>再执行 make 命令进行编译：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure>

<p>再执行安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure>

<p>4、查看 nginx 的启动文件：<code>/usr/local/nginx</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ8vb0l7sqdpurpvy5e77xZ nginx-1.22.0]# whereis nginx</span><br><span class="line">nginx: /usr/sbin/nginx /usr/lib64/nginx /etc/nginx /usr/local/nginx /usr/share/nginx /usr/share/man/man3/nginx.3pm.gz /usr/share/man/man8/nginx.8.gz</span><br></pre></td></tr></table></figure>

<p>那么如何启动呢？</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/nginx</span><br><span class="line">cd sbin</span><br><span class="line">./nginx</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">未出现报错就是没问题</span></span><br></pre></td></tr></table></figure>

<p>5、查看配置文件：<code>/etc/nginx</code>，发现默认端口为 80。</p>
<p>6、打开阿里云安全组的端口设置，开放 80 端口。</p>
<p>7、访问 ip 即可看到 welcome to nginx 页面。</p>
<h2 id="安装-Redis"><a href="#安装-Redis" class="headerlink" title="安装 Redis"></a>安装 Redis</h2><p>​		注意：官方推荐使用 Linux 安装和操作 Redis，官方不支持 Windows 系统的 Redis。</p>
<p>1、下载 Redis 安装包：当前最新版本 <code>redis-7.0.1.tar.gz</code>，并上传到 <code>/home</code> 目录下。</p>
<p>2、解压 Redis 压缩包，并移动到 &#x2F;opt 目录下。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">解压文件</span></span><br><span class="line">tar -zxvf redis-7.0.1.tar.gz</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">移动文件</span></span><br><span class="line">mv redis-7.0.1 /opt</span><br></pre></td></tr></table></figure>

<p>3、进入解压后的文件，找到 redis 的配置文件：<code>redis.conf</code>，后续会使用。</p>
<p>4、安装 redis 的环境：<code>gcc-c++</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc-c++</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入 redis 的目录，编译文件，下载环境依赖</span></span><br><span class="line">make</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装</span></span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<p>redis 默认的安装路径在 <code>/usr/local/bin</code> 目录下。</p>
<p>5、当前 &#x2F;usr&#x2F;local&#x2F;bin 安装目录中，创建文件夹：redis-conf ，并将刚才找到的 redis.conf 配置文件拷贝到此文件夹中，以后便使用此处的配置文件启动。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /opt/redis-7.0.1/redis.conf /usr/local/bin/redis-conf</span><br></pre></td></tr></table></figure>

<p>6、打开 redis 的配置文件：<code>/redis-conf/redis.conf</code>，修改部分配置，以后台启动。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">以后台方式启动 redis</span></span><br><span class="line">daemonize yes</span><br></pre></td></tr></table></figure>

<p>7、启动 redis 服务。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server redis-conf/redis.conf</span><br></pre></td></tr></table></figure>

<p>8、连接进 redis 客户端操作。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -p 6379</span><br></pre></td></tr></table></figure>

<p>9、关闭 redis 服务。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在客户端 redis-cli 内部执行</span></span><br><span class="line">shutdown</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>

<p>10、当使用远程连接时，还需要修改一些配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开启任何 IP 允许访问</span></span><br><span class="line">bind 0.0.0.0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">关闭保护模式</span></span><br><span class="line">protected-mode no</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置密码</span></span><br><span class="line">reuqirepass gaozheng1998</span><br></pre></td></tr></table></figure>

<h2 id="安装-Mycat2"><a href="#安装-Mycat2" class="headerlink" title="安装 Mycat2"></a>安装 Mycat2</h2><p>​		Mycat2 的安装需要二次整合：tar(zip) 包 + jar 包，需要将下载的 zip 包本地解压，再将核心 jar 包放入其 lib 目录。</p>
<blockquote>
<p>此次安装测试使用的是 39.103.191.179 服务器，使用的 mysql 是服务器本地 docker 创建的 mysql8。</p>
</blockquote>
<p>1、下载安装包 zip 包：<code>http://dl.mycat.org.cn/2.0/install-template/</code>，选择 1.21 版本。</p>
<p>2、下载核心依赖 Jar 包：<code>http://dl.mycat.org.cn/2.0/1.21-release/</code>，选择 1.21 版本。</p>
<p>3、解压安装包，将 Jar 包直接放入 mycat 的 <code>lib 目录</code>，此时使用包即搭建完成。</p>
<p>4、利用 XFTP 将此解压包 mycat 放入<code>/usr/local</code> 目录下。</p>
<p>5、修改文件夹的权限为最高权限，使其支持 root 用户操作（未修改时是白色文件夹，权限修改后为绿色）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入 /usr/local 目录</span></span><br><span class="line">cd /usr/local</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改整个文件夹权限</span></span><br><span class="line">chmod -R 777 mycat</span><br></pre></td></tr></table></figure>

<p>6、利用 docker 创建 <code>mysql 8.0.26</code> 服务并运行：</p>
<p>​	1）创建 docker-compose.yml 配置文件（docker 创建 mysql 容器配置项很多，因此使用 docker-compose 创建）</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version</span>: <span class="string">&#x27;3.1&#x27;</span></span><br><span class="line"><span class="attr">services</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">mysql8</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">image</span>: <span class="string">mysql:8.0.28</span></span><br><span class="line">    <span class="attr">container_name</span>: <span class="string">mysql8</span></span><br><span class="line">    <span class="attr">environment</span>:<span class="string"></span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD</span>: <span class="string">123456</span></span><br><span class="line">    <span class="attr">command</span>:<span class="string"></span></span><br><span class="line">      <span class="attr">--default-authentication-plugin</span>=<span class="string">mysql_native_password</span></span><br><span class="line">      <span class="attr">--character-set-server</span>=<span class="string">utf8mb4</span></span><br><span class="line">      <span class="attr">--collation-server</span>=<span class="string">utf8mb4_general_ci</span></span><br><span class="line">      <span class="attr">--explicit_defaults_for_timestamp</span>=<span class="string">true</span></span><br><span class="line">      <span class="attr">--lower_case_table_names</span>=<span class="string">1</span></span><br><span class="line">    <span class="attr">ports</span>:<span class="string"></span></span><br><span class="line">      <span class="attr">-</span> <span class="string">4306:3306</span></span><br><span class="line">    <span class="attr">volumes</span>:<span class="string"></span></span><br><span class="line">      <span class="attr">-</span> <span class="string">./data:/var/lib/mysql</span></span><br></pre></td></tr></table></figure>

<p>​	2）启动 mysql8 容器，进入容器，配置一个 mycat 用户（<code>也可以不添加用户，直接使用 root 用户</code>）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">利用 docker-compose 启动容器</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入 mysql8 容器</span></span><br><span class="line">docker exec -it mysql8 /bin/bash</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入 mysql 客户端</span></span><br><span class="line">mysql -uroot -p123456</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建用户 mycat，设置密码</span></span><br><span class="line">create user &#x27;mycat&#x27;@&#x27;%&#x27; identified by &#x27;123456&#x27;;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置远程连接的 root 权限用户</span></span><br><span class="line">grant xa_recover_admin on *.* to &#x27;root&#x27;@&#x27;%&#x27;;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">赋予 mycat 权限</span></span><br><span class="line">grant all privileges on *.* to &#x27;mycat&#x27;@&#x27;%&#x27;;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">刷新权限</span></span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>

<p>8、修改 mycat 的 prototype 数据源对应的 mysql 数据库配置：<code>/conf/datasources/prototypeDs.datasource.json</code> 配置文件</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;dbType&quot;</span><span class="punctuation">:</span><span class="string">&quot;mysql&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;idleTimeout&quot;</span><span class="punctuation">:</span><span class="number">60000</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;initSqls&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;initSqlsGetConnection&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;instanceType&quot;</span><span class="punctuation">:</span><span class="string">&quot;READ_WRITE&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;maxCon&quot;</span><span class="punctuation">:</span><span class="number">1000</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;maxConnectTimeout&quot;</span><span class="punctuation">:</span><span class="number">3000</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;maxRetryCount&quot;</span><span class="punctuation">:</span><span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;minCon&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;prototypeDs&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span><span class="string">&quot;123456&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;JDBC&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span><span class="string">&quot;jdbc:mysql://39.103.191.179:4306/mydb01?useUnicode=true&amp;serverTimezone=Asia/Shanghai&amp;characterEncoding=UTF-8&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;user&quot;</span><span class="punctuation">:</span><span class="string">&quot;mycat&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;weight&quot;</span><span class="punctuation">:</span><span class="number">0</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>​		当前只修改原型库的相关配置：user（刚才创建的 mycat 用户）、password、url（对应的 IP 和 端口以及原型数据库名）。</p>
<p>9、启动 mycat 的相关命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入 mycat的启动文件目录 bin</span></span><br><span class="line">cd /usr/local/mycat/bin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动 mycat</span></span><br><span class="line">[root@iZ8vb45xejetxupwfn3mj8Z bin]# ./mycat start</span><br><span class="line">Starting mycat2...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查 mycat 状态</span></span><br><span class="line">[root@iZ8vb45xejetxupwfn3mj8Z bin]# ./mycat status</span><br><span class="line">mycat2 is running (613329).</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">其他操作命令：</span></span><br><span class="line">./mycat start  # 启动 mycat</span><br><span class="line">./mycat status # 查看 mycat 状态</span><br><span class="line">./mycat stop   # 停止 mycat</span><br><span class="line">./mycat console # 前台启动 mycat</span><br><span class="line">./mycat install # 添加到系统自动启动（暂未实现）</span><br><span class="line">./mycat remove   # 取消随系统自动启动（暂未实现）</span><br><span class="line">./mycat restart # 重启 mycat 服务</span><br><span class="line">./mycat pause # 暂停 mycat 服务</span><br></pre></td></tr></table></figure>

<h2 id="安装-RabbitMQ"><a href="#安装-RabbitMQ" class="headerlink" title="安装 RabbitMQ"></a>安装 RabbitMQ</h2><p><code>环境说明:</code> centos8 服务器，Xshell 安装。</p>
<p>1、下载：<code>https://www.rabbitmq.com/download.html</code></p>
<p>2、安装 Erlang 环境，RabbitMQ 依赖 Erlang 环境：</p>
<blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">官网下载：https://packagecloud.io/rabbitmq/erlang/packages/el/7/erlang-23.3.4.5-1.el8.x86_64.rpm</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此处的 el8 代表是 centos8 系统</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意点：需要参照 RabbitMQ 和 Erlang 版本对照进行下载安装：https://www.rabbitmq.com/which-erlang.html</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1、下载 rpm 安装包，网页右上角的 download 按钮</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2、XFTP 拖放到指定文件：/usr/local/software</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3、解压 rpm 包：</span></span><br><span class="line">	rpm -ivh erlang-23.3.4.5-1.el8.x86_64.rpm</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4、安装 Erlang</span></span><br><span class="line">	yum install -y erlang</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">5、检查安装情况</span></span><br><span class="line">	erl -v</span><br></pre></td></tr></table></figure>

<p>3、安装 RabbitMQ 依赖包：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install socat -y</span><br></pre></td></tr></table></figure>

<blockquote>
<p>附录：</p>
<p>​	报错：yum 的安装源问题</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Repository extras is listed more than once in the configuration</span><br><span class="line">CentOS Linux 8 - AppStream                                                                            18 kB/s | 2.3 kB     00:00    </span><br><span class="line">Errors during downloading metadata for repository &#x27;appstream&#x27;:</span><br><span class="line">  - Status code: 404 for http://mirrors.cloud.aliyuncs.com/centos/8/AppStream/x86_64/os/repodata/repomd.xml (IP: 100.100.2.148)</span><br><span class="line">Error: Failed to download metadata for repo &#x27;appstream&#x27;: Cannot download repomd.xml: Cannot download repodata/repomd.xml: All mirrors were tried</span><br></pre></td></tr></table></figure>

<p><strong>解决方法：</strong>针对该问题,阿里云也提供了解决方法,可依次执行如下命令即可解决。该方法只适用于阿里云的ECS服务器,其他 IDC公司的服务器可参考教程操作：<code>https://blog.tag.gg/showinfo-3-36185-0.html</code>。</p>
<p>yum 命令下载报错 404，起源于阿里巴巴镜像问题，需要更换镜像：</p>
<p>1、执行如下命令先将之前的yum文件备份：</p>
<blockquote>
<p>rename ‘.repo’ ‘.repo.bak’ &#x2F;etc&#x2F;yum.repos.d&#x2F;*.repo </p>
</blockquote>
<p>2、运行以下命令下载最新的repo文件：</p>
<blockquote>
<p>wget <a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/repo/Centos-vault-8.5.2111.repo">https://mirrors.aliyun.com/repo/Centos-vault-8.5.2111.repo</a> -O &#x2F;etc&#x2F;yum.repos.d&#x2F;Centos-vault-8.5.2111.repo</p>
</blockquote>
<blockquote>
<p>wget <a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/repo/epel-archive-8.repo">https://mirrors.aliyun.com/repo/epel-archive-8.repo</a> -O &#x2F;etc&#x2F;yum.repos.d&#x2F;epel-archive-8.repo</p>
</blockquote>
<p>3、运行以下命令替换repo文件中的链接：</p>
<blockquote>
<p>sed -i ‘s&#x2F;mirrors.cloud.aliyuncs.com&#x2F;url_tmp&#x2F;g’ &#x2F;etc&#x2F;yum.repos.d&#x2F;Centos-vault-8.5.2111.repo &amp;&amp; sed -i ‘s&#x2F;mirrors.aliyun.com&#x2F;mirrors.cloud.aliyuncs.com&#x2F;g’ &#x2F;etc&#x2F;yum.repos.d&#x2F;Centos-vault-8.5.2111.repo &amp;&amp; sed -i ‘s&#x2F;url_tmp&#x2F;mirrors.aliyun.com&#x2F;g’ &#x2F;etc&#x2F;yum.repos.d&#x2F;Centos-vault-8.5.2111.repo</p>
</blockquote>
<blockquote>
<p>sed -i ‘s&#x2F;mirrors.aliyun.com&#x2F;mirrors.cloud.aliyuncs.com&#x2F;g’ &#x2F;etc&#x2F;yum.repos.d&#x2F;epel-archive-8.repo</p>
</blockquote>
<p>4、运行以下命令重新创建缓存,若没报错,则正常了。</p>
<blockquote>
<p>yum clean all &amp;&amp; yum makecache</p>
</blockquote>
<p><strong>注意：</strong>若使用阿里云服务器参考本教程重新执行后还有问题,请将 进入 &#x2F;etc&#x2F;yum.repos.d&#x2F; 目录，将之前下载的yum文件（repo）改名后再重新按照本教程操作一次即可。</p>
</blockquote>
<p>4、安装 RabbitMQ：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1、下载 RabbitMQ 的rpm 包：https://www.rabbitmq.com/download.html（注意版本对应问题）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2、解压 rpm 包</span></span><br><span class="line">	rpm -Uvh rabbitmq-server-3.9.14-1.el8.noarch.rpm</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3、安装 RabbitMQ</span></span><br><span class="line">	yum install -y rabbitmq-server</span><br></pre></td></tr></table></figure>

<p>5、开机启动 MQ：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable rabbitmq-server</span><br></pre></td></tr></table></figure>

<p>6、RabbitMQ 相关操作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动：第一次启动可能比较慢</span></span><br><span class="line">systemctl start rabbitmq-server</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查状态</span></span><br><span class="line">systemctl status rabbitmq-server</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">关闭</span></span><br><span class="line">systemctl stop rabbitmq-server</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启</span></span><br><span class="line">systemctl restart rabbitmq-server</span><br></pre></td></tr></table></figure>

<p>7、需要安装后台管理模块，注意需要先将 RabbitMQ 关闭：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rabbitmq-plugins enable rabbitmq_management</span><br></pre></td></tr></table></figure>

<p>​		安装完毕后，注意将 RabbitMQ 服务重新启动。</p>
<p>8、访问 RabbitMQ 的 Web 页面，此处我的 IP 为<code>http://8.142.92.222:15672/</code>，默认账号密码为 guest 不支持远程访问。</p>
<blockquote>
<p>注意需要打开阿里云服务器的 <code>15672 端口（web端口） 和 5672 端口（连接端口）</code>，同时关闭防火墙或是打开该端口拦截状态。</p>
</blockquote>
<p>9、创建远程登陆用户，并赋予权限：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1、创建用户：</span></span><br><span class="line">rabbitmqctl add_user root 123456</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2、赋予角色：administrator 为超级管理员</span></span><br><span class="line">rabbitmqctl set_user_tags root administrator</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3、设置用户权限：</span></span><br><span class="line">rabbitmqctl set_permissions -p / root &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4、查看用户：</span></span><br><span class="line">rabbitmqctl list_users</span><br></pre></td></tr></table></figure>









































































</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://localhost:4000">moon</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://localhost:4000/2022/05/21/%E8%BF%90%E7%BB%B4%E6%8A%80%E6%9C%AF/Linux%20%E5%9F%BA%E7%A1%80/">http://localhost:4000/2022/05/21/%E8%BF%90%E7%BB%B4%E6%8A%80%E6%9C%AF/Linux%20%E5%9F%BA%E7%A1%80/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">此文章版权归 moon 所有，如有转载，请註明来自原作者</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a></div><div class="post_share"><div class="social-share" data-image="https://w.wallhaven.cc/full/k7/wallhaven-k7mww1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/05/20/%E5%88%86%E5%B8%83%E5%BC%8F%E7%AE%97%E6%B3%95/Nginx%20%E5%9F%BA%E7%A1%80/"><img class="prev-cover" src="https://w.wallhaven.cc/full/1k/wallhaven-1k7ox3.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Nginx 使用初探</div></div></a></div><div class="next-post pull-right"><a href="/2022/05/21/Java%20%E5%9F%BA%E7%A1%80/GUI%E7%BC%96%E7%A8%8B/"><img class="next-cover" src="https://w.wallhaven.cc/full/72/wallhaven-72drx3.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">GUI 编程</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://pic1.imgdb.cn/item/6337ca6e16f2c2beb17d8731.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">moon</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">36</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">46</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><a id="card-info-btn"><i class="fab fa-github"></i><span>月の子豚小屋</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="/xxx" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/1963885633@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/1963885633" target="_blank" title="QQ"><i class="fa-sharp fa-solid fa-ghost"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">月の子豚小屋</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#linux-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">linux 简介</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text">Linux 基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E6%9C%BA%E5%85%B3%E6%9C%BA"><span class="toc-number">2.1.</span> <span class="toc-text">开机关机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">2.2.</span> <span class="toc-text">系统目录结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="toc-number">2.3.</span> <span class="toc-text">目录文件管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="toc-number">2.4.</span> <span class="toc-text">目录文件属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">2.5.</span> <span class="toc-text">文件内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E6%A6%82%E5%BF%B5"><span class="toc-number">2.6.</span> <span class="toc-text">链接概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vim-%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">2.7.</span> <span class="toc-text">Vim 编辑器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86"><span class="toc-number">2.8.</span> <span class="toc-text">账号管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">2.8.1.</span> <span class="toc-text">用户管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86"><span class="toc-number">2.8.2.</span> <span class="toc-text">用户组管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86"><span class="toc-number">2.9.</span> <span class="toc-text">磁盘管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-number">2.10.</span> <span class="toc-text">进程管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jar-%E5%8C%85%E8%BF%90%E8%A1%8C"><span class="toc-number">2.11.</span> <span class="toc-text">Jar 包运行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE"><span class="toc-number">2.12.</span> <span class="toc-text">安全设置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85"><span class="toc-number">3.</span> <span class="toc-text">环境安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-JDK-%E7%8E%AF%E5%A2%83"><span class="toc-number">3.1.</span> <span class="toc-text">安装 JDK 环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Tomcat"><span class="toc-number">3.2.</span> <span class="toc-text">安装 Tomcat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-MySQL"><span class="toc-number">3.3.</span> <span class="toc-text">安装 MySQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-InfluxDB"><span class="toc-number">3.4.</span> <span class="toc-text">安装 InfluxDB</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Chronograf"><span class="toc-number">3.5.</span> <span class="toc-text">安装 Chronograf</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Kapitator"><span class="toc-number">3.6.</span> <span class="toc-text">安装 Kapitator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Telegraf"><span class="toc-number">3.7.</span> <span class="toc-text">安装 Telegraf</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Docker"><span class="toc-number">3.8.</span> <span class="toc-text">安装 Docker</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Nginx"><span class="toc-number">3.9.</span> <span class="toc-text">安装 Nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Redis"><span class="toc-number">3.10.</span> <span class="toc-text">安装 Redis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Mycat2"><span class="toc-number">3.11.</span> <span class="toc-text">安装 Mycat2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-RabbitMQ"><span class="toc-number">3.12.</span> <span class="toc-text">安装 RabbitMQ</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/11/06/%E9%A1%B9%E7%9B%AE%E7%BB%83%E4%B9%A0/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/%E8%AE%A2%E5%8D%95%E6%9C%8D%E5%8A%A1/" title="谷粒商城-订单服务实现"><img src="https://w.wallhaven.cc/full/m9/wallhaven-m9873y.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谷粒商城-订单服务实现"/></a><div class="content"><a class="title" href="/2022/11/06/%E9%A1%B9%E7%9B%AE%E7%BB%83%E4%B9%A0/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/%E8%AE%A2%E5%8D%95%E6%9C%8D%E5%8A%A1/" title="谷粒商城-订单服务实现">谷粒商城-订单服务实现</a><time datetime="2022-11-06T14:42:44.735Z" title="发表于 2022-11-06 22:42:44">2022-11-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/03/%E9%A1%B9%E7%9B%AE%E7%BB%83%E4%B9%A0/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/%E8%B4%AD%E7%89%A9%E8%BD%A6%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/" title="谷粒商城-购物车逻辑实现"><img src="https://w.wallhaven.cc/full/m9/wallhaven-m9873y.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谷粒商城-购物车逻辑实现"/></a><div class="content"><a class="title" href="/2022/11/03/%E9%A1%B9%E7%9B%AE%E7%BB%83%E4%B9%A0/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/%E8%B4%AD%E7%89%A9%E8%BD%A6%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/" title="谷粒商城-购物车逻辑实现">谷粒商城-购物车逻辑实现</a><time datetime="2022-11-03T07:19:16.711Z" title="发表于 2022-11-03 15:19:16">2022-11-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/30/%E9%A1%B9%E7%9B%AE%E7%BB%83%E4%B9%A0/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81%E5%A4%84%E7%90%86/" title="谷粒商城-用户认证处理"><img src="https://w.wallhaven.cc/full/m9/wallhaven-m9873y.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谷粒商城-用户认证处理"/></a><div class="content"><a class="title" href="/2022/10/30/%E9%A1%B9%E7%9B%AE%E7%BB%83%E4%B9%A0/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81%E5%A4%84%E7%90%86/" title="谷粒商城-用户认证处理">谷粒商城-用户认证处理</a><time datetime="2022-10-30T02:15:21.954Z" title="发表于 2022-10-30 10:15:21">2022-10-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/28/%E9%A1%B9%E7%9B%AE%E7%BB%83%E4%B9%A0/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/%E7%94%A8%E6%88%B7%E5%95%86%E5%93%81%E8%AF%A6%E6%83%85%E5%A4%84%E7%90%86/" title="谷粒商城-用户商品详情处理"><img src="https://w.wallhaven.cc/full/m9/wallhaven-m9873y.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谷粒商城-用户商品详情处理"/></a><div class="content"><a class="title" href="/2022/10/28/%E9%A1%B9%E7%9B%AE%E7%BB%83%E4%B9%A0/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/%E7%94%A8%E6%88%B7%E5%95%86%E5%93%81%E8%AF%A6%E6%83%85%E5%A4%84%E7%90%86/" title="谷粒商城-用户商品详情处理">谷粒商城-用户商品详情处理</a><time datetime="2022-10-28T08:39:51.722Z" title="发表于 2022-10-28 16:39:51">2022-10-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/24/%E9%A1%B9%E7%9B%AE%E7%BB%83%E4%B9%A0/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/%E6%90%9C%E7%B4%A2%E4%B8%9A%E5%8A%A1%E5%A4%84%E7%90%86/" title="谷粒商城-用户搜索业务处理"><img src="https://w.wallhaven.cc/full/m9/wallhaven-m9873y.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谷粒商城-用户搜索业务处理"/></a><div class="content"><a class="title" href="/2022/10/24/%E9%A1%B9%E7%9B%AE%E7%BB%83%E4%B9%A0/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/%E6%90%9C%E7%B4%A2%E4%B8%9A%E5%8A%A1%E5%A4%84%E7%90%86/" title="谷粒商城-用户搜索业务处理">谷粒商城-用户搜索业务处理</a><time datetime="2022-10-24T14:24:27.926Z" title="发表于 2022-10-24 22:24:27">2022-10-24</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://w.wallhaven.cc/full/k7/wallhaven-k7mww1.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By moon</div><div class="footer_custom_text">Hi, welcome to <a href="">月の子豚小屋</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'W7dceLXrUuiCITXy8cfM3sQ5-gzGzoHsz',
      appKey: 'Cu1minmiIoZRLGrJNxHnhZgn',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><div class="aplayer no-destroy" data-id="60198" data-server="netease" data-type="playlist" data-mini="true" data-fixed="true" data-autoplay="true"> </div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="true"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>